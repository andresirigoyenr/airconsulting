---

import Layout from '~/layouts/PageLayout.astro';
import AnimatedCodeBackground from '~/components/AnimatedCodeBackground.tsx';
import ProcessSection from '~/components/ProcessSection.tsx';
import ServicesSection from '~/components/ServicesSection.tsx';


const metadata = {
  title: 'Agencia de Marketing Digital | Estrategias para España y Latam | AIRconsulting',
  ignoreTitleTemplate: true,
  description: 'Transformamos negocios en Cádiz y el mundo. Con experiencia probada en Chile, creamos estrategias de SEO y diseño web que generan resultados. ¡Contacta ahora!',
  keywords: ['agencia marketing digital Cádiz', 'desarrollo web Cádiz', 'SEO Cádiz', 'redes sociales Cádiz', 'agencia de marketing para empresas en Chile', 'servicios de SEO internacional para Latinoamérica', 'desarrollo web para empresas de logística', 'estrategia digital para medios de comunicación', 'AIRconsulting', 'sitios web', 'optimización motores de búsqueda', 'community manager'],
};
---

<Layout metadata={metadata}>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "AIR Consulting",
    "description": "Agencia de marketing digital con experiencia internacional. Especializada en desarrollo web, gestión de redes sociales y posicionamiento SEO para empresas en España y Latinoamérica",
    "url": "https://airconsulting.es",
    "logo": "https://airconsulting.es/images/logo.png",
    "image": "https://airconsulting.es/images/logo.png",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Cádiz",
      "addressRegion": "Andalucía",
      "addressCountry": "ES"
    },
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": "36.5271",
      "longitude": "-6.2886"
    },
    "telephone": "+34-XXX-XXX-XXX",
    "email": "info@airconsulting.es",
    "priceRange": "$$",
    "serviceType": ["Desarrollo Web", "Marketing Digital", "SEO", "Gestión de Redes Sociales"],
    "areaServed": [
      {
        "@type": "Country",
        "name": "España"
      },
      {
        "@type": "Country",
        "name": "Chile"
      }
    ],
    "founder": {
      "@type": "Person",
      "name": "Andrés Irigoyen",
      "jobTitle": "Fundador y Estratega Digital"
    },
    "sameAs": [
      "https://www.linkedin.com/in/andres-irigoyen"
    ]
  }
  </script>
  <section id="inicio" class="relative min-h-screen md:min-h-screen overflow-hidden bg-black">
    <!-- Fondo animado de código -->
    <AnimatedCodeBackground client:idle />
    <!-- Capa de oscurecimiento -->
    <div class="absolute inset-0 bg-black/85 z-10"></div>
    <!-- Gradiente de transición -->
    <div class="absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-b from-transparent to-black z-20"></div>


    <!-- Contenido del Hero -->
    <div class="relative z-20 flex items-center min-h-screen px-4 sm:px-6 py-20 md:py-0">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 max-w-7xl mx-auto w-full items-center">
        <!-- Lado Izquierdo: Contenido Principal -->
        <div class="flex flex-col justify-center fade-in text-left">
          <h1 class="text-white text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold mb-6 md:mb-8 drop-shadow-lg uppercase leading-tight" style="font-size: clamp(2rem, 8vw, 4rem); line-height: 1.1;">
            ESTRATEGIAS DIGITALES<br>QUE CRUZAN FRONTERAS
          </h1>
          <div class="flex flex-col sm:flex-row gap-6 justify-start">
            <button style="background-color: #FF5733; color: white; padding: 16px 32px; border: 2px solid #FF5733; border-radius: 50px; font-size: 16px; cursor: pointer; min-height: 48px; width: 100%; max-width: 280px; font-weight: bold;" class="transition-all duration-300 shadow-lg hover:bg-white hover:text-orange-500">
              Pide tu consultoría
            </button>
          </div>
        </div>

        <!-- Lado Derecho: Texto Descriptivo -->
        <div class="flex flex-col justify-center text-left slide-in-right">
          <p class="text-white text-base sm:text-lg md:text-xl lg:text-2xl leading-relaxed drop-shadow-md max-w-lg lg:max-w-none md:leading-loose">
            En AIR Consulting entendemos que no hay dos negocios iguales. Por eso, ofrecemos un conjunto de servicios diseñados para abordar tus desafíos y objetivos únicos. Nuestro equipo de expertos combina creatividad y datos para construir estrategias que, simplemente, funcionan.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Section Separator -->
  <div class="section-separator">
    <div class="separator-line"></div>
  </div>

  <!-- Parte 1: Nuestra Filosofía - Sticky Layout -->
  <section id="sobre-nosotros" class="relative pt-36 pb-32 fade-in-section" style="background-image: url('/images/codigo.jpg'); background-size: cover; background-position: center;">
    <!-- Darkening layer for readability -->
    <div class="absolute inset-0 bg-black/80 z-10"></div>

    <div class="relative z-20 max-w-7xl mx-auto px-4 sm:px-6">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-16 items-start">
        <!-- Columna Izquierda: Imagen Sticky -->
        <div class="sticky top-36 zoom-in order-2 lg:order-1">
          <img src="/images/optimized/bgcode.webp" alt="Andrés Irigoyen trabajando en desarrollo web y marketing digital en Cádiz" class="w-full h-auto rounded-lg shadow-lg" loading="lazy" style="aspect-ratio: 4/3;" />
        </div>

        <!-- Columna Derecha: Contenido que fluye -->
        <div class="space-y-16 lg:space-y-24 order-1 lg:order-2">
          <!-- Primera parte: Tu socio digital -->
          <div class="fade-in">
            <h2 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-6 lg:mb-8 text-left">
              Resultados Probados en España y Latinoamérica.
            </h2>
            <p class="text-gray-300 text-base sm:text-lg md:text-xl lg:text-2xl leading-relaxed md:leading-loose text-left">
              AIR Consulting nació de una convicción: las empresas y marcas de Cádiz merecen una presencia digital que no solo compita, sino que destaque a cualquier nivel. No somos simples ejecutores; somos estrategas y creativos que se sumergen en tu negocio para entenderlo como si fuera nuestro. Creemos en el trabajo bien hecho, en la comunicación transparente y en construir relaciones a largo plazo. Tu éxito es nuestra mejor carta de presentación.
            </p>
          </div>

        </div>
      </div>
    </div>
  </section>

  <!-- Section Separator -->
  <div class="section-separator">
    <div class="separator-line"></div>
  </div>

  <section id="servicios">
    <ServicesSection client:visible />
  </section>

  <!-- Section Separator -->
  <div class="section-separator">
    <div class="separator-line"></div>
  </div>

  <!-- Parte 2: Nuestra Metodología - Continuación del flujo -->
  <section class="relative pt-16 pb-32 fade-in-section overflow-hidden slide-and-fade-reveal" style="background-image: url('/images/codigo.jpg'); background-size: cover; background-position: center; min-height: 800px;">
    <!-- Darkening layer for readability -->
    <div class="absolute inset-0 bg-black/85 z-10"></div>

    <!-- Animated background particles -->
    <div class="absolute inset-0 z-5">
      <div class="particle particle-6"></div>
      <div class="particle particle-7"></div>
      <div class="particle particle-8"></div>
      <div class="particle particle-9"></div>
      <div class="particle particle-10"></div>
    </div>

    <div class="relative z-20">
      <ProcessSection client:visible />
    </div>
  </section>

  <!-- Section Separator -->
  <div class="section-separator">
    <div class="separator-line"></div>
  </div>

  <!-- Text Mask CTA Section -->
  <section id="casos-exito" class="relative pt-24 pb-40 text-center fade-in-section text-mask-section" style="background-color: black;">
    <div class="absolute inset-0 z-10 pulsing-bg" style="background-image: url('/images/codigo.jpg'); background-size: cover; background-position: center; mask: url('#text-mask-results'); -webkit-mask: url('#text-mask-results');"></div>
    <div class="relative z-20 max-w-4xl mx-auto px-4 sm:px-6">
      <h2 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-white mb-6 lg:mb-8 text-center">Resultados que Hablan por Sí Mismos</h2>
    <p class="text-white text-base sm:text-lg md:text-xl lg:text-2xl leading-relaxed md:leading-loose mb-8 lg:mb-10 slide-in-up text-center max-w-3xl mx-auto">
      Descubre cómo nuestros proyectos generan resultados tangibles y medibles para tu negocio.
    </p>
    <a href="#contacto" class="inline-block px-6 sm:px-8 lg:px-10 py-3 sm:py-4 lg:py-5 bg-black border-2 border-white text-white font-bold text-base sm:text-lg lg:text-xl rounded-full transition-all duration-300 slide-in-up min-h-[48px] min-w-[48px] flex items-center justify-center w-4/5 max-w-xs mx-auto hover:bg-white hover:text-black hover:border-black" style="aspect-ratio: auto;">
      Ver nuestros resultados
    </a>
  </div>
  <!-- SVG Mask Definition -->
  <svg width="0" height="0">
    <defs>
      <mask id="text-mask-results">
        <rect width="100%" height="100%" fill="black"/>
        <text x="50%" y="50%" text-anchor="middle" dominant-baseline="middle" font-size="4rem" font-weight="bold" fill="white" class="text-mask-svg">RESULTADOS MEDIBLES</text>
      </mask>
    </defs>
  </svg>
</section>

<!-- Section Separator -->
<div class="section-separator">
  <div class="separator-line"></div>
</div>

<!-- Parte 3: El Fundador - Final del flujo -->
  <section class="relative pt-36 pb-32 fade-in-section overflow-hidden slide-and-fade-reveal" style="background-image: url('/images/codigo.jpg'); background-size: cover; background-position: center;">
    <!-- Darkening layer for readability -->
    <div class="absolute inset-0 bg-black/85 z-10"></div>

    <!-- Animated background particles -->
    <div class="absolute inset-0 z-5">
      <div class="particle particle-6"></div>
      <div class="particle particle-7"></div>
      <div class="particle particle-8"></div>
      <div class="particle particle-9"></div>
      <div class="particle particle-10"></div>
    </div>

    <div class="relative z-20 max-w-7xl mx-auto px-4 sm:px-6">
      <div class="text-center mb-12">
        <h2 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-6 lg:mb-8">La Mente Detrás del Código</h2>
        <p class="text-gray-300 text-base sm:text-lg md:text-xl lg:text-2xl leading-relaxed md:leading-loose">Toda gran estrategia necesita un rostro. Conoce a la persona que impulsa la visión y los resultados en AIR Consulting.</p>
      </div>
      <div class="founder-layout">
        <!-- Mobile: Text first, then Card. Desktop: Card left, Text right -->
        <div class="text-section order-1 md:order-2">
          <div class="aurora-bg" id="aurora-bg"></div>
          <div class="founder-text">
            <h2 class="founder-name">Andrés Irigoyen R.</h2>
            <p class="founder-title">Fundador & Estratega Digital</p>
          </div>
        </div>

        <div class="contact-card order-2 md:order-1">
          <div class="contact-card-content">
            <img
              src="/images/profilecard.jpg"
              alt="Andrés Irigoyen - Fundador de AIR Consulting"
              class="portrait-image"
              loading="lazy"
            />
            <div class="contact-bar">
              <div class="contact-avatar">
                <img
                  src="/images/profilecard.jpg"
                  alt="Andrés Irigoyen mini avatar"
                  loading="lazy"
                />
              </div>
              <div class="contact-info">
                <div class="contact-handle">@andresirigoyen</div>
                <div class="contact-status">Online</div>
              </div>
              <button
                class="contact-button"
                type="button"
                aria-label="Contact Andrés Irigoyen"
              >
                Contactar
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- Section Separator -->
  <div class="section-separator">
    <div class="separator-line"></div>
  </div>



  <!-- Text Mask CTA Section -->
  <section class="relative pt-44 pb-40 text-center fade-in-section text-mask-section" style="background-color: black;">
    <div class="absolute inset-0 z-10 pulsing-bg" style="background-image: url('/images/codigo.jpg'); background-size: cover; background-position: center; mask: url('#text-mask'); -webkit-mask: url('#text-mask');"></div>
    <div class="relative z-20 max-w-4xl mx-auto px-4 sm:px-6">
      <h2 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-white mb-6 lg:mb-8 text-center">Hablemos de tu Proyecto</h2>
      <p class="text-white text-base sm:text-lg md:text-xl lg:text-2xl leading-relaxed md:leading-loose mb-8 lg:mb-10 slide-in-up text-center max-w-3xl mx-auto">
        Cuéntanos tu idea y te ayudaremos a llevar tu empresa al siguiente nivel con resultados medibles.
      </p>
      <a href="#contacto" class="inline-block px-6 sm:px-8 lg:px-10 py-3 sm:py-4 lg:py-5 bg-black border-2 border-white text-white font-bold text-base sm:text-lg lg:text-xl rounded-full transition-all duration-300 slide-in-up min-h-[48px] min-w-[48px] flex items-center justify-center w-4/5 max-w-xs mx-auto hover:bg-white hover:text-black hover:border-black" style="aspect-ratio: auto;">
        Hablemos de tu proyecto
      </a>
    </div>
    <!-- SVG Mask Definition -->
    <svg width="0" height="0">
      <defs>
        <mask id="text-mask">
          <rect width="100%" height="100%" fill="black"/>
          <text x="50%" y="50%" text-anchor="middle" dominant-baseline="middle" font-size="4rem" font-weight="bold" fill="white" class="text-mask-svg">HABLEMOS DE DATOS</text>
        </mask>
      </defs>
    </svg>
  </section>

  <!-- Contact Section -->
  <section id="contacto" class="pt-32 pb-24 lg:pt-44 lg:pb-40 bg-gray-100 fade-in-section">
    <div class="max-w-4xl mx-auto px-4 sm:px-6">
      <h2 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-black text-center mb-6 slide-in-up">Hablemos de tu proyecto</h2>
      <p class="text-gray-600 text-center text-base sm:text-lg md:text-xl lg:text-2xl leading-relaxed md:leading-loose mb-12 lg:mb-16 slide-in-up">
        Envíanos tu idea y hagámosla realidad.
      </p>
      <div id="contact-form" class="bg-white p-6 lg:p-8 rounded-lg shadow-lg slide-in-up">
        <form id="contact-form-element" name="contact" class="space-y-4 lg:space-y-6">
          <input type="hidden" name="form-name" value="contact" />
          <div style="display:none;">
            <label>Don't fill this out if you're human: <input name="bot-field" /></label>
          </div>
          <div>
            <label for="servicio" class="block text-gray-700 mb-2 lg:mb-3 font-semibold text-base lg:text-lg">¿Qué tipo de proyecto te interesa?</label>
            <select id="servicio" name="servicio" required class="w-full p-3 lg:p-4 border border-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 text-base lg:text-lg min-h-[44px]">
              <option value="">Selecciona el servicio que buscas</option>
              <option>Desarrollo Web</option>
              <option>Gestión de Redes Sociales</option>
              <option>SEO</option>
              <option>Marketing Digital</option>
              <option>Consultoría Digital</option>
              <option>Otros</option>
            </select>
          </div>
          <div>
            <label for="name" class="block text-gray-700 mb-2 lg:mb-3 font-semibold text-base lg:text-lg">Nombre</label>
            <input type="text" name="name" id="name" required class="w-full p-3 lg:p-4 border border-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 text-base lg:text-lg min-h-[44px]" />
          </div>
          <div>
            <label for="email" class="block text-gray-700 mb-2 lg:mb-3 font-semibold text-base lg:text-lg">Email</label>
            <input type="email" name="email" id="email" required class="w-full p-3 lg:p-4 border border-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 text-base lg:text-lg min-h-[44px]" />
            <span id="email-error" class="text-red-500 text-sm"></span>
          </div>
          <div>
            <label for="message" class="block text-gray-700 mb-2 lg:mb-3 font-semibold text-base lg:text-lg">Mensaje</label>
            <textarea name="message" id="message" required class="w-full p-3 lg:p-4 border border-gray-300 text-gray-900 rounded-md h-32 lg:h-40 focus:outline-none focus:ring-2 focus:ring-orange-500 text-base lg:text-lg min-h-[44px]"></textarea>
          </div>
          <div id="form-messages" class="text-center"></div>
          <div class="text-center">
            <button type="submit" id="submit-btn" class="px-8 lg:px-10 py-3 lg:py-4 bg-black border-2 border-white text-white font-bold rounded-full transition-all duration-300 shadow-md text-base lg:text-lg min-h-[48px] min-w-[48px] flex items-center justify-center w-4/5 max-w-xs mx-auto hover:bg-white hover:text-black hover:border-black">Enviar solicitud</button>
          </div>
        </form>
      </div>
    </div>
  </section>

  <script>
    // Intersection Observer for scroll animations - Optimized
    const observerOptions = {
      threshold: 0.15,
      rootMargin: '0px 0px -30px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate');
        }
      });
    }, observerOptions);

    // Observe all elements with animation classes
    document.addEventListener('DOMContentLoaded', () => {
      const animatedElements = document.querySelectorAll('.fade-in, .slide-in-left, .slide-in-right, .slide-in-up, .fade-in-up, .fade-in-section, .zoom-in, .slide-and-fade-reveal');
      animatedElements.forEach(el => observer.observe(el));

      // Smooth scroll for anchor links
      const links = document.querySelectorAll('a[href^="#"]');
      links.forEach(link => {
        link.addEventListener('click', (e) => {
          const target = e.target as HTMLElement;
          if (target && !target.closest('#contact-form')) {
            e.preventDefault();
            const href = link.getAttribute('href');
            if (href) {
              const targetElement = document.querySelector(href);
              if (targetElement) {
                targetElement.scrollIntoView({
                  behavior: 'smooth',
                  block: 'start'
                });
              }
            }
          }
        });
      });

      // Aurora parallax effect
      const auroraBg = document.getElementById('aurora-bg');
      if (auroraBg) {
        document.addEventListener('mousemove', (e) => {
          const mouseX = e.clientX / window.innerWidth;
          const mouseY = e.clientY / window.innerHeight;

          const moveX = (mouseX - 0.5) * 20; // Adjust sensitivity
          const moveY = (mouseY - 0.5) * 20;

          auroraBg.style.transform = `translate(${moveX}px, ${moveY}px)`;
        });
      }

      // Contact card 3D tilt effect - Only on desktop/tablet
      const contactCard = document.querySelector('.contact-card-content') as HTMLElement;
      if (contactCard && window.innerWidth >= 768) {
        let rafId: number | null = null;
        let isHovering = false;

        const updateCardTransform = (e: MouseEvent) => {
          if (!isHovering) return;

          const rect = contactCard.getBoundingClientRect();
          const centerX = rect.left + rect.width / 2;
          const centerY = rect.top + rect.height / 2;

          const mouseX = e.clientX - centerX;
          const mouseY = e.clientY - centerY;

          const rotateX = (mouseY / (rect.height / 2)) * -8; // Max 8deg tilt
          const rotateY = (mouseX / (rect.width / 2)) * 8;

          const brightness = Math.max(0.8, 1 - (Math.abs(mouseX) + Math.abs(mouseY)) / 300);

          contactCard.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
          contactCard.style.filter = `brightness(${brightness})`;
        };

        const handleMouseEnter = () => {
          isHovering = true;
          contactCard.style.transition = 'none';
        };

        const handleMouseLeave = () => {
          isHovering = false;
          contactCard.style.transition = 'transform 0.6s ease-out, filter 0.6s ease-out';
          contactCard.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg)';
          contactCard.style.filter = 'brightness(1)';
        };

        contactCard.addEventListener('mouseenter', handleMouseEnter);
        contactCard.addEventListener('mouseleave', handleMouseLeave);
        document.addEventListener('mousemove', (e) => {
          if (rafId) cancelAnimationFrame(rafId);
          rafId = requestAnimationFrame(() => updateCardTransform(e));
        });
      }
    });





      // Portfolio Section
      const clientCards = document.querySelectorAll('.client-card');
      const clientName = document.getElementById('client-name') as HTMLElement;
      const clientChallenge = document.getElementById('client-challenge') as HTMLElement;
      const clientSolution = document.getElementById('client-solution') as HTMLElement;
      const clientResults = document.getElementById('client-results') as HTMLElement;

      interface PortfolioItem {
        name: string;
        challenge: string;
        solution: string;
        results: { value: string; label: string }[];
      }

      const portfolioData: Record<string, PortfolioItem> = {
        client1: {
          name: 'Cliente 1',
          challenge: 'Su visibilidad online era nula y no conseguían clientes a través de Google.',
          solution: 'Desarrollamos una estrategia de SEO Local y optimizamos su web para la conversión.',
          results: [
            { value: '+150%', label: 'Aumento de tráfico orgánico' },
            { value: 'Top 3', label: 'En búsquedas locales clave' },
            { value: '+40%', label: 'En solicitudes de contacto' }
          ]
        },
        client2: {
          name: 'Cliente 2',
          challenge: 'Necesitaban aumentar su presencia en redes sociales y engagement con su audiencia.',
          solution: 'Implementamos una estrategia de contenido personalizado y gestión profesional de comunidades.',
          results: [
            { value: '+300%', label: 'Aumento en seguidores' },
            { value: '+180%', label: 'Incremento en interacciones' },
            { value: '+25%', label: 'En conversiones desde redes' }
          ]
        },
        client3: {
          name: 'Cliente 3',
          challenge: 'Su sitio web no convertía visitantes en clientes potenciales.',
          solution: 'Rediseñamos completamente la experiencia de usuario y optimizamos para conversiones.',
          results: [
            { value: '+200%', label: 'Aumento en conversiones' },
            { value: '+120%', label: 'Mejora en tiempo de carga' },
            { value: '+60%', label: 'Reducción en tasa de rebote' }
          ]
        },
        client4: {
          name: 'Cliente 4',
          challenge: 'No aparecían en las primeras posiciones de búsqueda local.',
          solution: 'Optimizamos su perfil de Google My Business y estrategia SEO local.',
          results: [
            { value: 'Top 5', label: 'Posición en búsquedas locales' },
            { value: '+250%', label: 'Aumento en llamadas' },
            { value: '+90%', label: 'Más visitas al local' }
          ]
        },
        client5: {
          name: 'Cliente 5',
          challenge: 'Necesitaban una identidad digital coherente y moderna.',
          solution: 'Creamos una estrategia de branding digital completa con web y redes sociales.',
          results: [
            { value: '+400%', label: 'Reconocimiento de marca' },
            { value: '+150%', label: 'Tráfico a la web' },
            { value: '+35%', label: 'Incremento en ventas' }
          ]
        }
      };

      clientCards.forEach(card => {
        card.addEventListener('click', () => {
          const client = card.getAttribute('data-client');
          if (client && portfolioData[client]) {
            const data = portfolioData[client];

            // Update content with fade effect
            const content = document.getElementById('portfolio-content') as HTMLElement;
            if (content) {
              content.style.opacity = '0';
              content.style.transform = 'translateY(20px)';
              content.style.transition = 'opacity 0.25s ease-out, transform 0.25s ease-out';
            }
            setTimeout(() => {
              if (clientName) clientName.textContent = data.name;
              if (clientChallenge) clientChallenge.textContent = data.challenge;
              if (clientSolution) clientSolution.textContent = data.solution;

              if (clientResults) {
                clientResults.innerHTML = data.results.map(result => `
                  <div class="bg-gray-800 p-6 rounded-lg text-center animate-count">
                    <div class="text-3xl md:text-4xl font-bold text-orange-500 mb-2 counter" data-target="${result.value}">${result.value}</div>
                    <div class="text-white text-sm">${result.label}</div>
                  </div>
                `).join('');
              }

              if (content) {
                content.style.opacity = '1';
                content.style.transform = 'translateY(0)';
              }

              // Trigger counter animation
              setTimeout(() => {
                animateCounters();
              }, 100);
            }, 300);
          }
        });
      });

      // Counter animation function
      function animateCounters() {
        const counters = document.querySelectorAll('.counter');
        counters.forEach(counter => {
          const target = counter.getAttribute('data-target');
          if (target) {
            const targetValue = parseInt(target.replace(/[^\d]/g, '')) || 0;
            const isPercentage = target.includes('%');
            const duration = 1000; // 1 second
            const start = 0;
            const increment = targetValue / (duration / 16); // 60fps
            let current = start;

            const timer = setInterval(() => {
              current += increment;
              if (current >= targetValue) {
                current = targetValue;
                clearInterval(timer);
              }
              counter.textContent = isPercentage ? `${Math.floor(current)}%` : Math.floor(current).toString();
            }, 16);
          }
        });
      }

      // Form validation and submission
      document.getElementById('contact-form-element')?.addEventListener('submit', async function(e) {
        e.preventDefault();
        const form = e.target as HTMLFormElement;
        const formData = new FormData(form);
        const messagesDiv = document.getElementById('form-messages') as HTMLDivElement;
        const submitBtn = document.getElementById('submit-btn') as HTMLButtonElement;
        const emailError = document.getElementById('email-error') as HTMLSpanElement;

        // Clear previous messages
        if (messagesDiv) messagesDiv.innerHTML = '';
        if (emailError) emailError.textContent = '';

        // Validate email
        const email = (document.getElementById('email') as HTMLInputElement).value;
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
          if (emailError) emailError.textContent = 'Por favor, ingresa un email válido.';
          return;
        }

        // Check required fields
        const requiredFields = ['servicio', 'name', 'email', 'message'];
        for (const field of requiredFields) {
          if (!formData.get(field)) {
            if (messagesDiv) messagesDiv.innerHTML = '<p class="text-red-500">Por favor, completa todos los campos requeridos.</p>';
            return;
          }
        }

        // Disable button
        if (submitBtn) {
          submitBtn.disabled = true;
          submitBtn.textContent = 'Enviando...';
        }

        try {
          const response = await fetch('/', {
            method: 'POST',
            body: formData,
          });

          if (response.ok) {
            // Success
            form.style.display = 'none';
            if (messagesDiv) messagesDiv.innerHTML = '<p class="text-green-500 text-lg font-semibold">¡Gracias! Tu mensaje ha sido enviado. Nos pondremos en contacto contigo pronto.</p>';
          } else {
            throw new Error('Error en el envío');
          }
        } catch {
          // Error
          if (messagesDiv) messagesDiv.innerHTML = '<p class="text-red-500">Hubo un error al enviar el mensaje. Por favor, intenta de nuevo más tarde.</p>';
        } finally {
          // Re-enable button
          if (submitBtn) {
            submitBtn.disabled = false;
            submitBtn.textContent = 'Enviar';
          }
        }
      });
    </script>

  <style>
    /* Scroll Animation Styles - Optimized for Performance */
    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.2s ease-out, transform 0.2s ease-out;
    }

    .fade-in.animate {
      opacity: 1;
      transform: translateY(0);
    }

    .zoom-in {
      opacity: 0;
      transform: scale(0.95);
      transition: opacity 0.2s ease-out, transform 0.2s ease-out;
    }

    .zoom-in.animate {
      opacity: 1;
      transform: scale(1);
    }

    .slide-in-left {
      opacity: 0;
      transform: translateX(-30px);
      transition: opacity 0.2s ease-out, transform 0.2s ease-out;
    }

    .slide-in-left.animate {
      opacity: 1;
      transform: translateX(0);
    }

    .slide-in-right {
      opacity: 0;
      transform: translateX(30px);
      transition: opacity 0.2s ease-out, transform 0.2s ease-out;
    }

    .slide-in-right.animate {
      opacity: 1;
      transform: translateX(0);
    }

    .slide-in-up {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.2s ease-out, transform 0.2s ease-out;
    }

    .slide-in-up.animate {
      opacity: 1;
      transform: translateY(0);
    }

    .fade-in-up {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.2s ease-out, transform 0.2s ease-out;
    }

    .fade-in-up.animate {
      opacity: 1;
      transform: translateY(0);
    }

    .fade-in-section {
      opacity: 0;
      transition: opacity 0.2s ease-out;
    }

    .fade-in-section.animate {
      opacity: 1;
    }

    /* Staggered animation delays - Optimized for Speed */
    .fade-in-up:nth-child(1) { transition-delay: 0.02s; }
    .fade-in-up:nth-child(2) { transition-delay: 0.04s; }
    .fade-in-up:nth-child(3) { transition-delay: 0.06s; }
    .fade-in-up:nth-child(4) { transition-delay: 0.08s; }
    .fade-in-up:nth-child(5) { transition-delay: 0.10s; }
    .fade-in-up:nth-child(6) { transition-delay: 0.12s; }

    /* Slide and Fade Reveal Effect - Optimized */
    .slide-and-fade-reveal {
      opacity: 0;
      transform: translateY(60px) scale(0.95);
      transition: all 0.25s ease-out;
    }

    .slide-and-fade-reveal.animate {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    /* Parallax effect */
    .parallax-bg {
      background-attachment: fixed;
      background-size: cover;
      background-position: center;
      transform: translateZ(0);
    }

    @media (max-width: 768px) {
      .parallax-bg {
        background-attachment: scroll;
      }
    }

    /* Parallax section with pulsing animation */
    .parallax-section {
      background-attachment: fixed;
      background-size: cover;
      background-position: center;
      animation: pulse-background 6s ease-in-out infinite;
    }

    @keyframes pulse-background {
      0%, 100% { filter: brightness(1); }
      50% { filter: brightness(1.05); }
    }

    .pulsing-bg {
      animation: pulse-background 6s ease-in-out infinite;
    }

    @media (max-width: 768px) {
      .parallax-section {
        background-attachment: scroll;
      }
    }

    /* Text mask effect */
    .text-mask-section {
      position: relative;
      overflow: hidden;
    }

    .text-mask-section .text-mask-title {
      font-family: 'Courier New', monospace;
      letter-spacing: 2px;
    }

    .text-mask-svg {
      font-family: 'Courier New', monospace;
      letter-spacing: 2px;
    }

    /* SVG Animation */
    .animate-draw {
      stroke-dasharray: 1000;
      stroke-dashoffset: 1000;
      animation: draw 2s ease-in-out forwards;
    }

    @keyframes draw {
      to {
        stroke-dashoffset: 0;
      }
    }

    /* Logo carousel animation */
    .animate-slide {
      animation: slide 20s linear infinite;
    }

    @keyframes slide {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(-100%);
      }
    }

    /* Client carousel animation */
    .animate-carousel {
      animation: carousel 25s linear infinite;
    }

    @keyframes carousel {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(-100%);
      }
    }

    /* Counter animation */
    .animate-count {
      animation: countIn 0.5s ease-out;
    }

    @keyframes countIn {
      0% {
        opacity: 0;
        transform: scale(0.8);
      }
      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    /* Interactive Services Section */
    .service-item.active {
      background-color: rgba(255, 87, 51, 0.1);
      border-left: 4px solid #FF5733;
    }

    .service-item.active span:first-child {
      color: #FF5733;
    }

    /* Particle animations for founder section */
    .particle {
      position: absolute;
      background: rgba(255, 87, 51, 0.3);
      border-radius: 50%;
      pointer-events: none;
    }

    .particle-1 {
      width: 4px;
      height: 4px;
      top: 20%;
      left: 10%;
      animation: float 6s ease-in-out infinite;
    }

    .particle-2 {
      width: 6px;
      height: 6px;
      top: 60%;
      right: 15%;
      animation: float 8s ease-in-out infinite reverse;
    }

    .particle-3 {
      width: 3px;
      height: 3px;
      top: 40%;
      left: 70%;
      animation: float 7s ease-in-out infinite;
    }

    .particle-4 {
      width: 5px;
      height: 5px;
      bottom: 30%;
      right: 25%;
      animation: float 9s ease-in-out infinite reverse;
    }

    .particle-5 {
      width: 4px;
      height: 4px;
      top: 80%;
      left: 40%;
      animation: float 5s ease-in-out infinite;
    }

    .particle-6 {
      width: 3px;
      height: 3px;
      top: 15%;
      left: 20%;
      animation: float 7s ease-in-out infinite;
    }

    .particle-7 {
      width: 5px;
      height: 5px;
      top: 45%;
      right: 30%;
      animation: float 6s ease-in-out infinite reverse;
    }

    .particle-8 {
      width: 4px;
      height: 4px;
      bottom: 25%;
      left: 60%;
      animation: float 8s ease-in-out infinite;
    }

    .particle-9 {
      width: 3px;
      height: 3px;
      top: 70%;
      right: 10%;
      animation: float 9s ease-in-out infinite reverse;
    }

    .particle-10 {
      width: 4px;
      height: 4px;
      bottom: 40%;
      left: 15%;
      animation: float 6.5s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% {
        opacity: 0.3;
        transform: translateY(0px) scale(1);
      }
      50% {
        opacity: 0.8;
        transform: translateY(-20px) scale(1.2);
      }
    }

    /* Section Separators */
    .section-separator {
      position: relative;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .separator-line {
      width: 100%;
      height: 1px;
      background: linear-gradient(90deg, transparent 0%, rgba(255, 87, 51, 0.3) 20%, rgba(255, 87, 51, 0.6) 50%, rgba(255, 87, 51, 0.3) 80%, transparent 100%);
      position: relative;
    }

    .separator-line::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent 0%, rgba(255, 87, 51, 0.8) 20%, rgba(255, 87, 51, 1) 50%, rgba(255, 87, 51, 0.8) 80%, transparent 100%);
      animation: separator-shine 3s ease-in-out infinite;
    }

    @keyframes separator-shine {
      0%, 100% {
        left: -100%;
      }
      50% {
        left: 100%;
      }
    }

    /* Mobile Section Spacing Optimization */
    @media (max-width: 768px) {
      /* Reduce section padding for more compact mobile experience */
      section[id] {
        padding-top: 60px !important;
        padding-bottom: 60px !important;
      }

      /* Special adjustments for specific sections */
      section[id="inicio"] {
        min-height: auto !important;
        padding-top: 100px !important;
        padding-bottom: 60px !important;
      }

      section[id="servicios"] {
        min-height: auto !important;
        padding-bottom: 60px !important;
      }

      /* Fix Process Section excessive height */
      section[class*="process-section"] {
        min-height: auto !important;
        height: auto !important;
        padding-bottom: 60px !important;
      }

      section[id="contacto"] {
        padding-top: 80px !important;
        padding-bottom: 80px !important;
      }

      /* Mobile separators */
      .section-separator {
        height: 40px;
      }

      .separator-line {
        background: linear-gradient(90deg, transparent 0%, rgba(255, 87, 51, 0.2) 20%, rgba(255, 87, 51, 0.4) 50%, rgba(255, 87, 51, 0.2) 80%, transparent 100%);
      }
    }

    /* Founder Section - Two Column Layout */
    .founder-layout {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2rem;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }

    @media (min-width: 768px) {
      .founder-layout {
        flex-direction: row;
        gap: 4rem;
        padding: 0 2rem;
      }
    }

    /* Left Column: Contact Card */
    .contact-card {
      flex: 0 0 400px;
      position: relative;
    }

    .contact-card-content {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 20px;
      padding: 0;
      overflow: hidden;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      position: relative;
      transition: transform 0.6s ease-out, filter 0.6s ease-out;
    }

    .contact-card-content::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, rgba(0, 255, 170, 0.3), rgba(0, 193, 255, 0.3), rgba(193, 0, 255, 0.3), rgba(255, 0, 193, 0.3));
      border-radius: 22px;
      z-index: -1;
      opacity: 0;
      transition: opacity 0.3s ease;
      filter: blur(8px);
    }

    /* Enable effects on desktop/tablet only */
    @media (min-width: 768px) {
      .contact-card:hover .contact-card-content::before {
        opacity: 1;
      }
    }

    .portrait-image {
      width: 100%;
      height: 300px;
      object-fit: cover;
      display: block;
    }

    .contact-bar {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 16px 20px;
      background: rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(10px);
    }

    .contact-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      overflow: hidden;
      border: 2px solid rgba(255, 255, 255, 0.3);
      flex-shrink: 0;
    }

    .contact-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .contact-info {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .contact-handle {
      font-size: 14px;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.9);
      margin: 0;
    }

    .contact-status {
      font-size: 12px;
      color: rgba(255, 255, 255, 0.7);
      margin: 0;
    }

    .contact-button {
      background: rgba(255, 87, 51, 0.9);
      border: 1px solid rgba(255, 87, 51, 0.5);
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .contact-button:hover {
      background: rgba(255, 87, 51, 1);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(255, 87, 51, 0.4);
    }

    /* Right Column: Text with Aurora Effect */
    .text-section {
      flex: 1;
      position: relative;
      min-height: 400px;
      display: flex;
      align-items: center;
    }

    .aurora-bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(ellipse at center, rgba(0, 255, 170, 0.3) 0%, rgba(0, 193, 255, 0.2) 25%, rgba(193, 0, 255, 0.15) 50%, rgba(255, 0, 193, 0.1) 75%, transparent 100%);
      filter: blur(120px);
      animation: aurora-breathe 8s ease-in-out infinite;
      pointer-events: none;
      z-index: 1;
    }

    @keyframes aurora-breathe {
      0%, 100% {
        opacity: 0.6;
        transform: scale(1);
      }
      50% {
        opacity: 0.8;
        transform: scale(1.05);
      }
    }

    .founder-text {
      position: relative;
      z-index: 2;
      text-align: left;
    }

    .founder-name {
      font-size: clamp(2.5rem, 5vw, 4rem);
      font-weight: 700;
      color: white;
      margin: 0 0 1rem 0;
      text-shadow: 0 0 30px rgba(255, 255, 255, 0.5), 0 0 60px rgba(255, 255, 255, 0.3);
      background: linear-gradient(135deg, #ffffff 0%, #e0e0e0 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .founder-title {
      font-size: clamp(1.2rem, 2.5vw, 1.8rem);
      font-weight: 400;
      color: rgba(255, 255, 255, 0.8);
      margin: 0;
      text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
    }

    /* Responsive Design */
    @media (max-width: 1024px) {
      .founder-layout {
        gap: 2rem;
        padding: 0 1rem;
      }

      .contact-card {
        flex: 0 0 350px;
      }
    }

    @media (max-width: 768px) {
      .founder-layout {
        flex-direction: column;
        gap: 1.5rem;
        text-align: center;
        padding: 0 1rem;
      }

      .contact-card {
        flex: none;
        width: 100%;
        max-width: 320px;
        margin: 0 auto;
      }

      .text-section {
        text-align: center;
        min-height: auto;
        padding: 1rem 0;
      }

      .aurora-bg {
        display: none;
      }

      .founder-text {
        margin-top: 0;
      }

      .founder-name {
        font-size: clamp(1.8rem, 6vw, 2.5rem);
        margin-bottom: 0.5rem;
      }

      .founder-title {
        font-size: clamp(0.9rem, 3vw, 1.1rem);
        margin-bottom: 0;
      }
    }

    @media (max-width: 480px) {
      .founder-layout {
        padding: 0 0.5rem;
        gap: 1rem;
      }

      .contact-card {
        max-width: 280px;
      }

      .contact-card-content {
        border-radius: 16px;
      }

      .portrait-image {
        height: 220px;
      }

      .contact-bar {
        padding: 10px 14px;
        gap: 8px;
      }

      .contact-avatar {
        width: 32px;
        height: 32px;
      }

      .contact-handle {
        font-size: 12px;
      }

      .contact-status {
        font-size: 10px;
      }

      .contact-button {
        padding: 5px 10px;
        font-size: 12px;
      }

      .text-section {
        padding: 0.5rem 0;
      }

      .founder-name {
        font-size: clamp(1.6rem, 5vw, 2.2rem);
        margin-bottom: 0.3rem;
      }

      .founder-title {
        font-size: clamp(0.85rem, 2.5vw, 1rem);
      }
    }
  </style>
</Layout>
