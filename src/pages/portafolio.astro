---
import Layout from '~/layouts/PageLayout.astro';

const metadata = {
  title: 'Portafolio | Proyectos de AIR Consulting - Desarrollo Web y Marketing Digital',
  description: 'Descubre nuestro portafolio de proyectos. Desarrollo web, marketing digital, SEO y estrategias digitales implementadas para empresas en España y Latinoamérica.',
  keywords: ['portafolio AIR Consulting', 'proyectos desarrollo web', 'casos de éxito marketing digital', 'proyectos SEO España', 'desarrollo e-commerce', 'sitios web profesionales'],
  openGraph: {
    title: 'Portafolio | Proyectos de AIR Consulting',
    description: 'Descubre nuestro portafolio de proyectos. Desarrollo web, marketing digital, SEO y estrategias digitales.',
    images: [
      {
        url: '/images/logo.png',
        width: 1200,
        height: 630,
        alt: 'Portafolio AIR Consulting - Proyectos de Desarrollo Web y Marketing Digital'
      }
    ],
    type: 'website',
    locale: 'es_ES'
  },
  twitter: {
    card: 'summary_large_image',
    title: 'Portafolio | AIR Consulting',
    description: 'Descubre nuestro portafolio de proyectos de desarrollo web y marketing digital.',
    images: ['/images/logo.png'],
    handle: '@airconsulting',
    site: '@airconsulting'
  }
};

// Project data
const projects = [
  {
    id: 'retorica',
    title: 'Retórica',
    category: 'Landpage',
    description: 'Plataforma de comunicación estratégica para empresa de marketing político. Desarrollo completo con CMS personalizado y optimización SEO.',
    image: 'https://retorica.cl/wp-content/uploads/2024/01/logo-retorica.png',
    alt: 'Mockup del sitio web Retórica - Plataforma de marketing político',
    technologies: ['React', 'Node.js', 'MongoDB', 'SEO'],
    results: ['+150% tráfico orgánico', 'Top 10 búsquedas locales', '+200% leads cualificados'],
    year: '2024',
    client: 'Empresa Privada',
    link: 'https://retorica.cl'
  },
  {
    id: 'modeldesktop',
    title: 'ModelDesktop',
    category: 'Landpage',
    description: 'Sistema de gestión de modelos de negocio para consultoras estratégicas. Plataforma web completa con dashboard administrativo.',
    image: '/images/mockupmodel.jpg',
    alt: 'Mockup del sistema ModelDesktop - Gestión de modelos de negocio',
    technologies: ['Vue.js', 'Laravel', 'MySQL', 'AWS'],
    results: ['+300% eficiencia operativa', 'Reducción 60% tiempo gestión', '+180% satisfacción cliente'],
    year: '2023',
    client: 'Consultora Estratégica',
    link: '#'
  },
  {
    id: 'elephante-ecommerce',
    title: 'Éléphante E-commerce',
    category: 'E-commerce',
    description: 'Plataforma e-commerce completa para líder en esencias aromáticas y productos lifestyle. Tienda online con catálogo extenso, sistema de pagos y logística integrada.',
    image: '/images/elephante.jpg',
    alt: 'Éléphante E-commerce - Plataforma de ventas online para esencias aromáticas y productos lifestyle',
    technologies: ['Shopify Plus', 'React', 'Stripe', 'Inventory API', 'Analytics'],
    results: ['+400% ventas online', '+300% catálogo digital', '+180% engagement', '+250% conversión móvil'],
    year: '2024',
    client: 'Éléphante',
    link: 'https://www.elephante.cl'
  },
  {
    id: 'agenda-agricola',
    title: 'Agenda Agrícola de CNN Chile',
    category: 'Marketing Digital',
    description: 'Estrategia de marketing digital para Agenda Agrícola en CNN Chile. Campaña completa de posicionamiento, contenido y engagement.',
    image: '/images/cnn.png',
    alt: 'Agenda Agrícola CNN Chile - Estrategia de marketing digital agrícola',
    technologies: ['Content Marketing', 'Social Media', 'SEO', 'Analytics'],
    results: ['+500% visibilidad online', 'Comunidad 10k+ seguidores', '+300% engagement'],
    year: '2022',
    client: 'CNN Chile',
    link: '#'
  },
  {
    id: 'ucvtv',
    title: 'UCVTV',
    category: 'Marketing Digital',
    description: 'Estrategia de marketing digital para UCVTV. Gestión de contenido noticioso, redes sociales y posicionamiento online.',
    image: '/images/ucvtv.png',
    alt: 'UCVTV - Marketing digital para noticias y contenido televisivo',
    technologies: ['Social Media Management', 'Content Strategy', 'Video Marketing', 'Analytics'],
    results: ['+400% alcance noticioso', '+250% engagement redes', '+180% tráfico web'],
    year: '2024',
    client: 'UCVTV',
    link: '#'
  },
  {
    id: 'dmi-global-logistic',
    title: 'DMI Proyect Global Logistic',
    category: 'Marketing Digital',
    description: 'Proyecto de marketing digital para DMI Global Logistic. Estrategia integral de branding, presencia online y lead generation.',
    image: '/images/dmi.png',
    alt: 'DMI Global Logistic - Marketing digital para logística internacional',
    technologies: ['Digital Branding', 'Lead Generation', 'SEO', 'PPC Campaigns'],
    results: ['+350% leads cualificados', '+200% presencia online', '+150% conversiones'],
    year: '2023',
    client: 'DMI Global Logistic',
    link: '#'
  }
];

const categories = ['Todos', 'Landpage', 'E-commerce', 'Marketing Digital'];
---

<Layout metadata={metadata}>
  <link rel="canonical" href="https://airconsulting.es/portafolio">
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "CollectionPage",
    "name": "Portafolio de AIR Consulting",
    "description": "Descubre nuestro portafolio de proyectos. Desarrollo web, marketing digital, SEO y estrategias digitales implementadas para empresas en España y Latinoamérica.",
    "url": "https://airconsulting.es/portafolio",
    "mainEntity": {
      "@type": "ItemList",
      "name": "Proyectos de AIR Consulting",
      "numberOfItems": 8,
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "item": {
            "@type": "CreativeWork",
            "name": "Retórica",
            "description": "Plataforma de comunicación estratégica para empresa de marketing político",
            "url": "https://retorica.cl"
          }
        },
        {
          "@type": "ListItem",
          "position": 2,
          "item": {
            "@type": "CreativeWork",
            "name": "TheBeeBaby Marketplace",
            "description": "Marketplace innovador para alquiler de artículos para bebés",
            "url": "https://www.thebeebaby.com"
          }
        },
        {
          "@type": "ListItem",
          "position": 3,
          "item": {
            "@type": "CreativeWork",
            "name": "Model",
            "description": "Sistema de gestión de modelos de negocio para consultoras estratégicas"
          }
        },
        {
          "@type": "ListItem",
          "position": 3,
          "item": {
            "@type": "CreativeWork",
            "name": "Éléphante E-commerce",
            "description": "Plataforma e-commerce completa para líder en esencias aromáticas",
            "url": "https://www.elephante.cl"
          }
        },
        {
          "@type": "ListItem",
          "position": 4,
          "item": {
            "@type": "CreativeWork",
            "name": "Plataforma E-commerce",
            "description": "Tienda online completa para retailer internacional"
          }
        }
      ]
    },
    "breadcrumb": {
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Inicio",
          "item": "https://airconsulting.es"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Portafolio",
          "item": "https://airconsulting.es/portafolio"
        }
      ]
    }
  }
  </script>
  <!-- Hero Section -->
  <section class="relative pt-32 pb-20 overflow-hidden bg-black">
    <div class="absolute inset-0 bg-gradient-to-br from-purple-900/20 via-blue-900/20 to-black"></div>
    <div class="relative z-20 max-w-7xl mx-auto px-4 sm:px-6 text-center">
      <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-6">
        Nuestro <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-blue-400">Portafolio</span>
      </h1>
      <p class="text-gray-300 text-lg sm:text-xl md:text-2xl max-w-3xl mx-auto leading-relaxed">
        Proyectos que transforman ideas en resultados tangibles
      </p>
    </div>
  </section>

  <!-- Filter Section -->
  <section class="relative py-12 bg-gray-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="flex flex-wrap justify-center gap-4" id="filter-buttons">
        {categories.map((category, index) => (
          <button
            class={`px-6 py-3 rounded-full font-medium transition-all duration-300 ${
              index === 0
                ? 'bg-orange-500 text-white'
                : 'bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white'
            }`}
            data-filter={category === 'Todos' ? 'all' : category.toLowerCase().replace(' & ', '-').replace(' ', '-')}
          >
            {category}
          </button>
        ))}
      </div>
    </div>
  </section>

  <!-- Projects Grid -->
  <section class="relative py-20 bg-black">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="projects-grid">
        {projects.map((project) => (
          <div
            class={`project-card group relative overflow-hidden rounded-2xl bg-gray-900 border border-gray-800 transition-all duration-500 hover:border-orange-500/50 ${
              project.category === 'Desarrollo Web' ? 'filter-web' :
              project.category === 'E-commerce' ? 'filter-ecommerce' :
              project.category === 'SEO & Marketing' ? 'filter-seo-marketing' :
              project.category === 'Social Media' ? 'filter-social-media' : ''
            }`}
            data-category={project.category.toLowerCase().replace(' & ', '-').replace(' ', '-')}
          >
            <!-- Project Image -->
            <div class="relative h-64 overflow-hidden">
              <img
                src={project.image}
                alt={project.alt || project.title}
                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                loading="lazy"
              />
              <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>

              <!-- Category Badge -->
              <div class="absolute top-4 left-4">
                <span class="px-3 py-1 bg-orange-500/90 text-white text-sm font-medium rounded-full">
                  {project.category}
                </span>
              </div>

              <!-- Year Badge -->
              <div class="absolute top-4 right-4">
                <span class="px-3 py-1 bg-black/50 text-white text-sm font-medium rounded-full">
                  {project.year}
                </span>
              </div>
            </div>

            <!-- Project Content -->
            <div class="p-6">
              <h3 class="text-xl font-bold text-white mb-3 group-hover:text-orange-400 transition-colors">
                {project.title}
              </h3>
              <p class="text-gray-300 text-sm leading-relaxed mb-4 line-clamp-3">
                {project.description}
              </p>

              <!-- Technologies -->
              <div class="flex flex-wrap gap-2 mb-4">
                {project.technologies.slice(0, 3).map((tech) => (
                  <span class="px-2 py-1 bg-gray-800 text-gray-400 text-xs rounded-md">
                    {tech}
                  </span>
                ))}
                {project.technologies.length > 3 && (
                  <span class="px-2 py-1 bg-gray-800 text-gray-400 text-xs rounded-md">
                    +{project.technologies.length - 3}
                  </span>
                )}
              </div>

              <!-- Results -->
              <div class="space-y-2 mb-6">
                {project.results.slice(0, 2).map((result) => (
                  <div class="flex items-center space-x-2">
                    <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                    <span class="text-gray-300 text-sm">{result}</span>
                  </div>
                ))}
              </div>

              <!-- CTA Button -->
              {project.link !== '#' && (
                <a
                  href={project.link}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="inline-block w-full text-center px-4 py-2 bg-orange-500 text-white font-medium rounded-lg hover:bg-orange-600 transition-colors"
                >
                  Ver Proyecto →
                </a>
              )}
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="relative py-20 bg-gray-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="text-center mb-16">
        <h2 class="text-3xl sm:text-4xl font-bold text-white mb-6">Números que Hablan</h2>
        <p class="text-gray-300 text-lg max-w-2xl mx-auto">
          Resultados concretos de nuestros proyectos implementados
        </p>
      </div>

      <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
        <div class="text-center">
          <div class="text-4xl md:text-5xl font-bold text-orange-500 mb-2">50+</div>
          <div class="text-gray-300">Proyectos Completados</div>
        </div>
        <div class="text-center">
          <div class="text-4xl md:text-5xl font-bold text-orange-500 mb-2">98%</div>
          <div class="text-gray-300">Satisfacción Cliente</div>
        </div>
        <div class="text-center">
          <div class="text-4xl md:text-5xl font-bold text-orange-500 mb-2">300%</div>
          <div class="text-gray-300">Crecimiento Promedio</div>
        </div>
        <div class="text-center">
          <div class="text-4xl md:text-5xl font-bold text-orange-500 mb-2">24/7</div>
          <div class="text-gray-300">Soporte Disponible</div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="relative py-20 bg-gradient-to-r from-purple-900/20 to-blue-900/20">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 text-center">
      <h2 class="text-3xl sm:text-4xl font-bold text-white mb-6">¿Listo para tu próximo proyecto?</h2>
      <p class="text-gray-300 text-lg mb-8 max-w-2xl mx-auto">
        Hablemos de cómo podemos llevar tu idea al siguiente nivel con resultados medibles.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="/#contacto" class="inline-block px-8 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all duration-300 transform hover:scale-105">
          Iniciar Proyecto
        </a>
        <a href="/equipo" class="inline-block px-8 py-4 border-2 border-orange-500 text-orange-500 font-semibold rounded-lg hover:bg-orange-500 hover:text-white transition-all duration-300">
          Conocer al Equipo
        </a>
      </div>
    </div>
  </section>

  <style>
    /* Filter animations */
    .project-card {
      opacity: 1;
      transform: scale(1);
      transition: all 0.5s ease;
    }

    .project-card.hidden {
      opacity: 0;
      transform: scale(0.8);
      pointer-events: none;
    }

    /* Line clamp utility */
    .line-clamp-3 {
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    /* Hover effects */
    .project-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }

    .project-card:hover img {
      transform: scale(1.1);
    }

    /* Filter button active state */
    #filter-buttons button.active {
      @apply bg-orange-500 text-white;
    }

    #filter-buttons button:not(.active) {
      @apply bg-gray-800 text-gray-300;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .project-card:hover {
        transform: none;
      }

      #filter-buttons {
        flex-direction: column;
        align-items: center;
      }

      #filter-buttons button {
        width: 200px;
      }
    }
  </style>

  <script>
    // Filter functionality
    document.addEventListener('DOMContentLoaded', () => {
      const filterButtons = document.querySelectorAll('#filter-buttons button') as NodeListOf<HTMLButtonElement>;
      const projectCards = document.querySelectorAll('.project-card') as NodeListOf<HTMLDivElement>;

      filterButtons.forEach(button => {
        button.addEventListener('click', () => {
          const filter = button.getAttribute('data-filter');

          // Update active button
          filterButtons.forEach(btn => btn.classList.remove('active'));
          button.classList.add('active');

          // Filter projects
          projectCards.forEach(card => {
            const category = card.getAttribute('data-category');
            if (filter === 'all' || category === filter) {
              card.classList.remove('hidden');
            } else {
              card.classList.add('hidden');
            }
          });
        });
      });

      // Set initial active state
      if (filterButtons[0]) {
        filterButtons[0].classList.add('active');
      }
    });
  </script>
</Layout>
