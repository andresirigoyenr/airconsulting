---
import Layout from '~/layouts/PageLayout.astro';
import LogoCarousel from '~/components/LogoCarousel.astro';
import BackgroundImage from '~/components/BackgroundImage.astro';


const metadata = {
  title: 'Retórica - Events and Marketing',
  ignoreTitleTemplate: true,
  description: 'Retórica: Specialists in exclusive events, festivals, parties, graduations and high-impact marketing. Create unforgettable experiences with us.',
  keywords: ['events', 'marketing', 'festivals', 'parties', 'graduations', 'activations', 'influencers', 'own spaces', 'Retórica', 'exclusive events', 'digital marketing', 'Influencer Marketing'],
};
---

<Layout metadata={metadata}>
  <section id="inicio" class="relative min-h-screen md:min-h-screen overflow-hidden bg-black">
    <!-- Background Image -->
    <BackgroundImage src="/images/estelas.jpg" />
    <!-- Darkening layer -->
    <div class="absolute inset-0 bg-black/60 z-10"></div>

    <!-- Hero Content -->
    <div class="relative z-20 flex items-center justify-center min-h-screen pt-16 md:pt-16">
      <div class="text-center px-4 sm:px-6">
        <h1 class="text-white text-4xl md:text-5xl lg:text-7xl font-bold mb-6 md:mb-8 drop-shadow-lg">
          Retórica® – Exclusivity, avant-garde and community
        </h1>
        <p class="text-white text-xl md:text-xl font-light mb-8 md:mb-12 drop-shadow-md">
          Festivals, parties, graduations, influencer marketing and exclusive spaces
        </p>
        <div class="flex flex-col sm:flex-row gap-6 justify-center">
           <a
             href="#festivales"
             class="inline-block px-6 py-3 md:px-8 md:py-4 bg-black border border-white text-white font-bold text-base md:text-lg rounded-full hover:bg-white hover:text-black transition-all duration-300 transform hover:scale-105 shadow-lg"
           >
             Discover Our Experiences
           </a>
           <a href="#contacto" class="inline-block px-6 py-3 md:px-8 md:py-4 bg-black border border-white text-white font-bold text-base md:text-lg rounded-full hover:bg-white hover:text-black transition-all duration-300">
             Quote Your Event
           </a>
         </div>
      </div>
    </div>
  </section>


  <LogoCarousel />

  <!-- Manifesto Section -->
  <section class="relative h-screen bg-black flex items-center justify-center">
    <!-- Background Image -->
    <BackgroundImage src="/images/manifiesto.jpg" />
    <!-- Darkening layer -->
    <div class="absolute inset-0 bg-black/60 z-10"></div>
    <div class="relative z-20 max-w-4xl mx-auto px-4 sm:px-6 text-center pt-4 md:pt-8">
      <h2 class="text-4xl md:text-5xl font-bold text-white mb-8">Our Essence</h2>
      <p class="text-gray-300 text-lg md:text-xl leading-relaxed mb-6">
        At Retórica® we believe that every project is an opportunity to connect people, brands and emotions through unique experiences.
      </p>
      <p class="text-gray-300 text-lg md:text-xl leading-relaxed mb-6">
        We are driven by excellence in everything we do: from festivals and parties to graduations, activations and creative projects with real impact.
      </p>
      <p class="text-gray-300 text-lg md:text-xl leading-relaxed mb-6">
        Our passion for avant-garde and exclusivity drives us to innovate, combining art, strategy and community in each production.
      </p>
      <p class="text-gray-300 text-lg md:text-xl leading-relaxed">
        Retórica® is not just an agency or producer; it is a movement that redefines the way we live, celebrate and communicate.
      </p>
      <div class="mt-12">
        <a href="#contacto" class="inline-block px-8 py-4 bg-black border border-white text-white font-bold text-lg rounded-full hover:bg-white hover:text-black transition-all duration-300">
          Quote With Retórica
        </a>
      </div>
    </div>
  </section>

  <!-- Separator -->
  <div class="w-full h-px bg-gradient-to-r from-transparent via-gray-600 to-transparent"></div>

  <section class="py-20 bg-black text-center">
    <div class="max-w-4xl mx-auto px-4 sm:px-6">
      <h2 class="text-4xl md:text-5xl font-bold text-white mb-6">
        Let's make your next project a reality.
      </h2>
      <p class="text-gray-300 text-lg md:text-xl mb-8">
        Tell us your idea and we'll help make it possible.
      </p>
      <a href="#contacto" class="inline-block px-8 py-4 bg-black border border-white text-white font-bold text-lg rounded-full hover:bg-white hover:text-black transition-all duration-300 transform hover:scale-105">
        Let's Talk About Your Experience
      </a>
    </div>
  </section>

  <!-- Separator -->
  <div class="w-full h-px bg-gradient-to-r from-transparent via-gray-600 to-transparent"></div>


  <!-- Separator -->
  <div class="w-full h-px bg-gradient-to-r from-transparent via-gray-600 to-transparent"></div>

  <!-- Contact Section -->
  <section id="contacto" class="py-20 bg-gray-100">
    <div class="max-w-4xl mx-auto px-4 sm:px-6">
      <h2 class="text-4xl md:text-5xl font-bold text-black text-center mb-4">Shall we create something unforgettable together?</h2>
      <p class="text-gray-600 text-center text-lg md:text-xl mb-12">
        Send us your idea and let's bring it to life.
      </p>
      <div class="text-center mb-8">
        <button id="toggle-form" class="px-6 py-2 bg-orange-500 text-white font-semibold rounded-full hover:bg-orange-600 transition">Hide Form</button>
      </div>
      <div id="contact-form" class="bg-white p-8 rounded-lg shadow-lg">
        <form id="contact-form-element" name="contact" class="space-y-6">
          <input type="hidden" name="form-name" value="contact" />
          <div style="display:none;">
            <label>Don't fill this out if you're human: <input name="bot-field" /></label>
          </div>
          <div>
            <label class="block text-gray-700 mb-2 font-semibold">Service of interest</label>
            <select name="servicio" required class="w-full p-3 border border-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500">
              <option value="">Select a service</option>
              <option>Festivals</option>
              <option>Private Parties</option>
              <option>Graduation Parties</option>
              <option>Influencer Marketing</option>
              <option>Santo Domingo Nightclub Rental</option>
              <option>Other</option>
            </select>
          </div>
          <div>
            <label class="block text-gray-700 mb-2 font-semibold">Name</label>
            <input type="text" name="name" required class="w-full p-3 border border-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500" />
          </div>
          <div>
            <label class="block text-gray-700 mb-2 font-semibold">Email</label>
            <input type="email" name="email" id="email" required class="w-full p-3 border border-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500" />
            <span id="email-error" class="text-red-500 text-sm"></span>
          </div>
          <div>
            <label class="block text-gray-700 mb-2 font-semibold">Message</label>
            <textarea name="message" required class="w-full p-3 border border-gray-300 text-gray-900 rounded-md h-32 focus:outline-none focus:ring-2 focus:ring-orange-500"></textarea>
          </div>
          <div id="form-messages" class="text-center"></div>
          <div class="text-center">
            <button type="submit" id="submit-btn" class="px-8 py-3 bg-black border border-white text-white font-bold rounded-full hover:bg-white hover:text-black transition transform hover:scale-105 shadow-md">Send</button>
          </div>
        </form>
      </div>
    </div>
  </section>

  <script>



     // Toggle contact form
     document.getElementById('toggle-form')?.addEventListener('click', () => {
       const form = document.getElementById('contact-form');
       if (form) {
         form.style.display = form.style.display === 'none' ? 'block' : 'none';
         const btn = document.getElementById('toggle-form');
         if (btn) {
           btn.textContent = form.style.display === 'none' ? 'Show Form' : 'Hide Form';
         }
       }
     });

     // Toggle logos
     document.getElementById('toggle-logos')?.addEventListener('click', () => {
       const container = document.getElementById('logos-container');
       const btn = document.getElementById('toggle-logos') as HTMLButtonElement;
       if (container && btn) {
         container.style.display = container.style.display === 'none' ? 'block' : 'none';
         btn.textContent = container.style.display === 'none' ? (btn.dataset.show || '') : (btn.dataset.hide || '');
       }
     });


     // Form validation and submission
     document.getElementById('contact-form-element')?.addEventListener('submit', async function(e) {
       e.preventDefault();
       const form = e.target as HTMLFormElement;
       const formData = new FormData(form);
       const messagesDiv = document.getElementById('form-messages') as HTMLDivElement;
       const submitBtn = document.getElementById('submit-btn') as HTMLButtonElement;
       const emailError = document.getElementById('email-error') as HTMLSpanElement;

       // Clear previous messages
       if (messagesDiv) messagesDiv.innerHTML = '';
       if (emailError) emailError.textContent = '';

       // Validate email
       const email = (document.getElementById('email') as HTMLInputElement).value;
       const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
       if (!emailRegex.test(email)) {
         if (emailError) emailError.textContent = 'Please enter a valid email.';
         return;
       }

       // Check required fields
       const requiredFields = ['servicio', 'name', 'email', 'message'];
       for (const field of requiredFields) {
         if (!formData.get(field)) {
           if (messagesDiv) messagesDiv.innerHTML = '<p class="text-red-500">Please complete all required fields.</p>';
           return;
         }
       }

       // Disable button
       if (submitBtn) {
         submitBtn.disabled = true;
         submitBtn.textContent = 'Sending...';
       }

       try {
         const response = await fetch('/', {
           method: 'POST',
           body: formData,
         });

         if (response.ok) {
           // Success
           form.style.display = 'none';
           if (messagesDiv) messagesDiv.innerHTML = '<p class="text-green-500 text-lg font-semibold">Thank you! Your message has been sent. We will get back to you soon.</p>';
         } else {
           throw new Error('Submission error');
         }
       } catch {
         // Error
         if (messagesDiv) messagesDiv.innerHTML = '<p class="text-red-500">There was an error sending the message. Please try again later.</p>';
       } finally {
         // Re-enable button
         if (submitBtn) {
           submitBtn.disabled = false;
           submitBtn.textContent = 'Send';
         }
       }
     });
   </script>
</Layout>
